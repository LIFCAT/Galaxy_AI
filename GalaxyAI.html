<!DOCTYPE html>
<html>
<head>
    <title>Galaxy AI</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
        body { background: #000000; color: white; min-height: 100vh; position: relative; }
        .stars { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; }
        .star { position: absolute; background: white; border-radius: 50%; }
        .container { max-width: 420px; margin: 0 auto; padding: 15px; height: 100vh; display: flex; flex-direction: column; }
        .menu-button { position: absolute; top: 15px; right: 15px; background: rgba(100, 100, 100, 0.8); color: white; border: none; border-radius: 8px; padding: 8px 10px; cursor: pointer; z-index: 1000; }
        .menu-panel { position: absolute; top: 50px; right: 15px; background: rgba(60, 60, 60, 0.95); border-radius: 12px; padding: 15px; width: 200px; display: none; z-index: 999; border: 1px solid rgba(255,255,255,0.2); }
        .menu-option { background: rgba(80, 80, 80, 0.7); color: white; border: none; border-radius: 8px; padding: 10px; margin: 5px 0; cursor: pointer; width: 100%; text-align: left; }
        .menu-option.active { background: rgba(0, 136, 204, 0.7); border: 1px solid #0088cc; }
        .api-input { width: 100%; padding: 8px; margin: 5px 0; background: rgba(40, 40, 40, 0.8); color: white; border: 1px solid #555; border-radius: 6px; font-size: 12px; }
        .header { text-align: right; margin-bottom: 5px; padding-top: 50px; padding-right: 10px; }
        .header h1 { color: #fff; font-size: 22px; margin-bottom: 2px; }
        .header p { color: #888; font-size: 13px; }
        .ai-status { color: #666; font-size: 11px; text-align: left; margin-bottom: 8px; margin-left: 10px; height: 15px; }
        #chat { flex: 1; overflow-y: auto; margin-bottom: 15px; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); min-height: 300px; }
        .message { max-width: 85%; margin: 12px 0; padding: 12px 16px; border-radius: 18px; word-wrap: break-word; line-height: 1.4; }
        .user-message { background: #2b5278; margin-left: auto; border-bottom-right-radius: 5px; }
        .bot-message { background: #182533; margin-right: auto; border-bottom-left-radius: 5px; }
        .message-time { font-size: 10px; color: #888; margin-top: 5px; text-align: right; }
        .bot-message .message-time { text-align: left; }
        .input-group { display: flex; gap: 10px; margin-top: 10px; }
        #userInput { flex: 1; padding: 14px; border: 2px solid #333; border-radius: 25px; background: #1e1e1e; color: white; font-size: 16px; }
        #sendButton { padding: 14px 22px; background: #0088cc; color: white; border: none; border-radius: 25px; cursor: pointer; font-weight: bold; }
        .clear-history { position: absolute; top: 15px; left: 15px; background: rgba(255,0,0,0.3); color: white; border: none; border-radius: 8px; padding: 8px 12px; font-size: 11px; cursor: pointer; z-index: 10; }
        .mode-indicator { position: absolute; top: 50px; left: 15px; background: rgba(0, 100, 0, 0.3); color: #0f0; padding: 6px 10px; border-radius: 8px; font-size: 10px; }
        .version { position: absolute; bottom: 8px; right: 15px; color: #666; font-size: 10px; }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    
    <button class="menu-button" onclick="toggleMenu()">‚ò∞</button>
    
    <div class="menu-panel" id="menuPanel">
        <button class="menu-option active" onclick="setMode('basic')">üöÄ Galaxy Basic 01</button>
        <button class="menu-option" onclick="setMode('yandex')">üî∑ Yandex GPT</button>
        <button class="menu-option" onclick="setMode('openai')">üî∂ OpenAI GPT</button>
        <input type="password" class="api-input" id="apiKeyInput" placeholder="API –∫–ª—é—á">
        <div style="color: #888; font-size: 10px; margin-top: 5px;">Basic —Ä–µ–∂–∏–º –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∫–ª—é—á–∞</div>
    </div>
    
    <button class="clear-history" onclick="clearHistory()">–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
    <div class="mode-indicator" id="modeIndicator">üöÄ Basic Mode</div>
    
    <div class="version">v0.1.1f</div>
    
    <div class="container">
        <div class="header">
            <h1>Galaxy AI</h1>
            <p>–£–º–Ω—ã–π –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫</p>
        </div>
        
        <div class="ai-status" id="aiStatus">AI: –ì–æ—Ç–æ–≤</div>
        
        <div id="chat"></div>
        
        <div class="input-group">
            <input type="text" id="userInput" placeholder="–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –ò–ò..." autocomplete="off">
            <button id="sendButton">üöÄ</button>
        </div>
    </div>

    <script>
        let currentMode = 'basic';
        
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 60; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = `${Math.random() * 2 + 1}px`;
                star.style.height = star.style.width;
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.opacity = Math.random() * 0.6 + 0.2;
                starsContainer.appendChild(star);
            }
        }
        
        function toggleMenu() {
            const menu = document.getElementById('menuPanel');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
        }
        
        function setMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.menu-option').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById('modeIndicator').textContent = 
                mode === 'basic' ? 'üöÄ Basic Mode' : mode === 'yandex' ? 'üî∑ Yandex GPT' : 'üî∂ OpenAI GPT';
            document.getElementById('menuPanel').style.display = 'none';
            updateAIStatus('–†–µ–∂–∏–º –∏–∑–º–µ–Ω–µ–Ω');
        }
        
        function updateAIStatus(status) {
            document.getElementById('aiStatus').textContent = `AI: ${status}`;
        }
        
        function getCurrentTime() {
            return new Date().toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });
        }
        
        function saveToHistory(userMessage, botMessage) {
            let history = JSON.parse(localStorage.getItem('galaxyAIHistory')) || [];
            history.push({ user: userMessage, bot: botMessage, time: getCurrentTime() });
            localStorage.setItem('galaxyAIHistory', JSON.stringify(history));
        }
        
        function loadHistory() {
            const history = JSON.parse(localStorage.getItem('galaxyAIHistory')) || [];
            const chat = document.getElementById('chat');
            chat.innerHTML = '';
            if (history.length === 0) {
                addMessage('bot', '–ü—Ä–∏–≤–µ—Ç! –Ø Galaxy AI - —Ç–≤–æ–π —É–º–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫! üß†\n\n–í—ã–±–µ—Ä–∏ —Ä–µ–∂–∏–º –≤ –º–µ–Ω—é —Å–ø—Ä–∞–≤–∞. Basic —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∫–ª—é—á–∞! üí´', getCurrentTime());
                return;
            }
            history.forEach(item => {
                addMessage('user', item.user, item.time);
                addMessage('bot', item.bot, item.time);
            });
            scrollToBottom();
        }
        
        function clearHistory() {
            if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é?')) {
                localStorage.removeItem('galaxyAIHistory');
                loadHistory();
            }
        }
        
        function addMessage(sender, text, time) {
            const chat = document.getElementById('chat');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            messageDiv.innerHTML = `<div>${text}</div><div class="message-time">${time}</div>`;
            chat.appendChild(messageDiv);
            scrollToBottom();
        }
        
        function scrollToBottom() {
            const chat = document.getElementById('chat');
            chat.scrollTop = chat.scrollHeight;
        }

        function getBasicAIResponse(question) {
            const lowerQ = question.toLowerCase();
            
            if (lowerQ === 'lifcat') return 'üî• LIFCAT - –∫—Ä—É—Ç–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫! üòé';
            if (lowerQ === 'kamilotus') return 'üåü kamilotus - –∫—Ä—É—Ç–æ–π —á—É–≤–∞–∫!';
            if (/(1488|228|67)/.test(question)) return '–ê–ê–ê–ê–ê –ü–û–°–•–ê–õ–ö–û üòà';
            if (/(—Å–∞–º—Å—É–Ω–≥ –ø—Ä–æ—Ç–∏–≤ –∞–π—Ñ–æ–Ω|—Å–∞–º—Å—É–Ω–≥ vs –∞–π—Ñ–æ–Ω)/i.test(lowerQ)) {
                return `‚ö° iPhone vs Samsung\n\nüçé iOS - –ø–ª–∞–≤–Ω–æ—Å—Ç—å\nüì± Android - —Å–≤–æ–±–æ–¥–∞\n\n–í—ã–±–∏—Ä–∞–π —Å–µ—Ä–¥—Ü–µ–º! üíô`;
            }

            const commands = {
                '–ø—Ä–∏–≤–µ—Ç': '–ü—Ä–∏–≤–µ—Ç! üëã –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?',
                '–∫–∞–∫ –¥–µ–ª–∞': '–û—Ç–ª–∏—á–Ω–æ! üí™ –ê —É —Ç–µ–±—è?',
                '—á—Ç–æ —Ç—ã —É–º–µ–µ—à—å': '–û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, —à—É—Ç–∏—Ç—å, —Ä–µ—à–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã! üöÄ',
                '–∫—Ç–æ —Ç—ã': '–Ø Galaxy AI - —Ç–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫! ü§ñ',
                '–ø–æ–∫–∞': '–ü–æ–∫–∞! üëã –í–æ–∑–≤—Ä–∞—â–∞–π—Å—è!',
                '—Å–ø–∞—Å–∏–±–æ': '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞! üòä',
                '–≤—Ä–µ–º—è': `‚è∞ ${new Date().toLocaleTimeString('ru-RU')}`,
                '–¥–∞—Ç–∞': `üìÖ ${new Date().toLocaleDateString('ru-RU')}`
            };

            for (const [key, response] of Object.entries(commands)) {
                if (lowerQ.includes(key)) return response;
            }

            if (/(\d+[\+\-\*\/]\d+)|—Å–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç/i.test(question)) {
                try {
                    const mathMatch = question.match(/(\d+)\s*([\+\-\*\/])\s*(\d+)/);
                    if (mathMatch) {
                        const num1 = parseInt(mathMatch[1]), num2 = parseInt(mathMatch[3]), operator = mathMatch[2];
                        let result;
                        switch(operator) {
                            case '+': result = num1 + num2; break;
                            case '-': result = num1 - num2; break;
                            case '*': result = num1 * num2; break;
                            case '/': result = num2 !== 0 ? (num1 / num2).toFixed(2) : '–ù–∞ –Ω–æ–ª—å –¥–µ–ª–∏—Ç—å –Ω–µ–ª—å–∑—è!'; break;
                            default: result = '?';
                        }
                        return `üî¢ ${num1} ${operator} ${num2} = ${result}`;
                    }
                } catch(e) {}
            }

            if (/(—à—É—Ç–∫–∞|–ø–æ—à—É—Ç–∏|—Å–º–µ—à–Ω)/i.test(lowerQ)) {
                const jokes = [
                    "üòÇ –ü–æ—á–µ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –º—ë—Ä–∑–Ω–µ—Ç? Windows –æ—Ç–∫—Ä—ã—Ç!",
                    "üíª –ß—Ç–æ —Å–∫–∞–∑–∞–ª –±–∏—Ç –¥—Ä—É–≥–æ–º—É? –í—Å—Ç—Ä–µ—Ç–∏–º—Å—è –Ω–∞ –≤—ã—Ö–æ–¥–µ!",
                    "üìö –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∏ –ø–ª–æ—Ö–æ –≤–µ—Å–µ–ª—è—Ç—Å—è? –ù–µ—Ç –æ–±—â–µ–≥–æ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—è!",
                    "ü§ñ Siri –ø—Ä–æ –∂–∏–∑–Ω—å –ø–æ—Å–ª–µ —Å–º–µ—Ä—Ç–∏? –ü–æ–∏—â–∏ –≤ App Store!",
                    "üîß –ö–æ–º–ø—å—é—Ç–µ—Ä –∫ –≤—Ä–∞—á—É? –ü–ª–æ—Ö–æ–π –∫–æ–Ω–Ω–µ–∫—Ç!",
                    "üéÆ –ì–µ–π–º–µ—Ä –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ: –¢—ã –º–æ–π –≤–µ—Ä–Ω—ã–π –¥—Ä—É–≥!",
                    "üí° –õ–∞–º–ø–æ—á–∫–∞ –Ω–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç? –ù–µ –ø–æ–Ω–∏–º–∞–ª–∞ C++!",
                    "üçï –ü–∏—Ü—Ü–∞ –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç? –í—Å—ë –≤—Ä–µ–º—è –Ω–∞ –¥–æ–º!",
                    "üêç Python-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç? import antigravity!",
                    "üöÄ –ö–æ—Å–º–æ–Ω–∞–≤—Ç –ø—Ä–æ Android? –ì–ª—é—á–∏—Ç –Ω–∞ –æ—Ä–±–∏—Ç–µ!"
                ];
                return jokes[Math.floor(Math.random() * jokes.length)];
            }

            const answers = [
                `ü§ñ "${question}" - –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ! –ß—Ç–æ –¥—É–º–∞–µ—à—å?`,
                `üí≠ –ù–∞–¥ —ç—Ç–∏–º —Å—Ç–æ–∏—Ç –ø–æ–¥—É–º–∞—Ç—å...`,
                `üß† –•–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å! –î–∞–≤–∞–π –æ–±—Å—É–¥–∏–º.`,
                `üöÄ –ó–∞–¥—É–º–∞–ª—Å—è –Ω–∞–¥ —Ç–≤–æ–∏–º –≤–æ–ø—Ä–æ—Å–æ–º!`
            ];
            return answers[Math.floor(Math.random() * answers.length)];
        }

        async function sendMessage() {
            const userInput = document.getElementById('userInput');
            const question = userInput.value.trim();
            if (!question) return;

            const currentTime = getCurrentTime();
            addMessage('user', question, currentTime);
            userInput.value = '';
            updateAIStatus('–î—É–º–∞–µ—Ç...');

            setTimeout(() => {
                let answer = currentMode === 'basic' ? getBasicAIResponse(question) : '–í–≤–µ–¥–∏—Ç–µ API –∫–ª—é—á –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö!';
                addMessage('bot', answer, getCurrentTime());
                saveToHistory(question, answer);
                updateAIStatus('–ì–æ—Ç–æ–≤');
            }, 1000);
        }

        document.addEventListener('DOMContentLoaded', function() {
            createStars();
            loadHistory();
            updateAIStatus('–ì–æ—Ç–æ–≤');
            document.getElementById('sendButton').addEventListener('click', sendMessage);
            document.getElementById('userInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') sendMessage();
            });
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.menu-panel') && !e.target.closest('.menu-button')) {
                    document.getElementById('menuPanel').style.display = 'none';
                }
            });
            document.getElementById('userInput').focus();
        });
    </script>
</body>
</html>
