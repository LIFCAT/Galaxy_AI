<!DOCTYPE html>
<html>
<head>
    <title>Galaxy AI</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
        body { background: #000000; color: white; min-height: 100vh; position: relative; }
        .stars { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; }
        .star { position: absolute; background: white; border-radius: 50%; }
        .container { max-width: 420px; margin: 0 auto; padding: 15px; height: 100vh; display: flex; flex-direction: column; }
        .menu-button { position: absolute; top: 15px; right: 15px; background: rgba(100, 100, 100, 0.8); color: white; border: none; border-radius: 8px; padding: 8px 10px; cursor: pointer; z-index: 1000; }
        .menu-panel { position: absolute; top: 50px; right: 15px; background: rgba(60, 60, 60, 0.95); border-radius: 12px; padding: 15px; width: 200px; display: none; z-index: 999; border: 1px solid rgba(255,255,255,0.2); }
        .menu-option { background: rgba(80, 80, 80, 0.7); color: white; border: none; border-radius: 8px; padding: 10px; margin: 5px 0; cursor: pointer; width: 100%; text-align: left; }
        .menu-option.active { background: rgba(0, 136, 204, 0.7); border: 1px solid #0088cc; }
        .api-input { width: 100%; padding: 8px; margin: 5px 0; background: rgba(40, 40, 40, 0.8); color: white; border: 1px solid #555; border-radius: 6px; font-size: 12px; }
        .header { text-align: right; margin-bottom: 5px; padding-top: 50px; padding-right: 10px; }
        .header h1 { color: #fff; font-size: 22px; margin-bottom: 2px; }
        .header p { color: #888; font-size: 13px; }
        .ai-status { color: #666; font-size: 11px; text-align: left; margin-bottom: 8px; margin-left: 10px; height: 15px; }
        #chat { flex: 1; overflow-y: auto; margin-bottom: 15px; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); min-height: 300px; }
        .message { max-width: 85%; margin: 12px 0; padding: 12px 16px; border-radius: 18px; word-wrap: break-word; line-height: 1.4; }
        .user-message { background: #2b5278; margin-left: auto; border-bottom-right-radius: 5px; }
        .bot-message { background: #182533; margin-right: auto; border-bottom-left-radius: 5px; }
        .message-time { font-size: 10px; color: #888; margin-top: 5px; text-align: right; }
        .bot-message .message-time { text-align: left; }
        .input-group { display: flex; gap: 10px; margin-top: 10px; }
        #userInput { flex: 1; padding: 14px; border: 2px solid #333; border-radius: 25px; background: #1e1e1e; color: white; font-size: 16px; }
        #sendButton { padding: 14px 22px; background: #0088cc; color: white; border: none; border-radius: 25px; cursor: pointer; font-weight: bold; }
        .clear-history { position: absolute; top: 15px; left: 15px; background: rgba(255,0,0,0.3); color: white; border: none; border-radius: 8px; padding: 8px 12px; font-size: 11px; cursor: pointer; z-index: 10; }
        .mode-indicator { position: absolute; top: 50px; left: 15px; background: rgba(0, 100, 0, 0.3); color: #0f0; padding: 6px 10px; border-radius: 8px; font-size: 10px; }
        .version { position: absolute; bottom: 8px; right: 15px; color: #666; font-size: 10px; }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    
    <button class="menu-button" onclick="toggleMenu()">‚ò∞</button>
    
    <div class="menu-panel" id="menuPanel">
        <button class="menu-option active" onclick="setMode('basic')">üöÄ Galaxy AI Pro</button>
        <button class="menu-option" onclick="setMode('yandex')">üî∑ Yandex GPT</button>
        <button class="menu-option" onclick="setMode('openai')">üî∂ OpenAI GPT</button>
        <input type="password" class="api-input" id="apiKeyInput" placeholder="API –∫–ª—é—á (–Ω–µ –Ω—É–∂–Ω–æ –¥–ª—è Galaxy)">
        <div style="color: #888; font-size: 10px; margin-top: 5px;">Galaxy AI Pro - —Ä–µ–∞–ª—å–Ω—ã–π –ò–ò –±–µ–∑ –∫–ª—é—á–∞</div>
    </div>
    
    <button class="clear-history" onclick="clearHistory()">–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
    <div class="mode-indicator" id="modeIndicator">üöÄ Galaxy AI Pro</div>
    
    <div class="version">v2.0</div>
    
    <div class="container">
        <div class="header">
            <h1>Galaxy AI</h1>
            <p>–†–µ–∞–ª—å–Ω—ã–π –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫</p>
        </div>
        
        <div class="ai-status" id="aiStatus">AI: –ì–æ—Ç–æ–≤</div>
        
        <div id="chat"></div>
        
        <div class="input-group">
            <input type="text" id="userInput" placeholder="–°–ø—Ä–æ—Å–∏ —á—Ç–æ —É–≥–æ–¥–Ω–æ..." autocomplete="off">
            <button id="sendButton">üöÄ</button>
        </div>
    </div>

    <script>
        let currentMode = 'basic';
        
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 60; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = `${Math.random() * 2 + 1}px`;
                star.style.height = star.style.width;
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.opacity = Math.random() * 0.6 + 0.2;
                starsContainer.appendChild(star);
            }
        }
        
        function toggleMenu() {
            const menu = document.getElementById('menuPanel');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
        }
        
        function setMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.menu-option').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById('modeIndicator').textContent = 
                mode === 'basic' ? 'üöÄ Galaxy AI Pro' : mode === 'yandex' ? 'üî∑ Yandex GPT' : 'üî∂ OpenAI GPT';
            document.getElementById('menuPanel').style.display = 'none';
            updateAIStatus('–†–µ–∂–∏–º –∏–∑–º–µ–Ω–µ–Ω');
        }
        
        function updateAIStatus(status) {
            document.getElementById('aiStatus').textContent = `AI: ${status}`;
        }
        
        function getCurrentTime() {
            return new Date().toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });
        }
        
        function saveToHistory(userMessage, botMessage) {
            let history = JSON.parse(localStorage.getItem('galaxyAIHistory')) || [];
            history.push({ user: userMessage, bot: botMessage, time: getCurrentTime() });
            localStorage.setItem('galaxyAIHistory', JSON.stringify(history));
        }
        
        function loadHistory() {
            const history = JSON.parse(localStorage.getItem('galaxyAIHistory')) || [];
            const chat = document.getElementById('chat');
            chat.innerHTML = '';
            if (history.length === 0) {
                addMessage('bot', '–ü—Ä–∏–≤–µ—Ç! –Ø Galaxy AI Pro - –Ω–∞—Å—Ç–æ—è—â–∏–π –ò–ò! üß†\n\n–ú–æ–≥—É –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –ª—é–±–æ–π —Ç–≤–æ–π –≤–æ–ø—Ä–æ—Å! –ó–∞–¥–∞–≤–∞–π —á—Ç–æ —É–≥–æ–¥–Ω–æ! üöÄ', getCurrentTime());
                return;
            }
            history.forEach(item => {
                addMessage('user', item.user, item.time);
                addMessage('bot', item.bot, item.time);
            });
            scrollToBottom();
        }
        
        function clearHistory() {
            if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é?')) {
                localStorage.removeItem('galaxyAIHistory');
                loadHistory();
            }
        }
        
        function addMessage(sender, text, time) {
            const chat = document.getElementById('chat');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            messageDiv.innerHTML = `<div>${text}</div><div class="message-time">${time}</div>`;
            chat.appendChild(messageDiv);
            scrollToBottom();
        }
        
        function scrollToBottom() {
            const chat = document.getElementById('chat');
            chat.scrollTop = chat.scrollHeight;
        }

        // –ù–ê–®–ò –ü–ê–°–•–ê–õ–ö–ò –ò –ö–û–ú–ê–ù–î–´
        function checkSpecialCommands(question) {
            const lowerQ = question.toLowerCase();
            
            // –ü–ê–°–•–ê–õ–ö–ò
            if (lowerQ === 'lifcat') return 'üî• LIFCAT - –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —ç—Ç–æ–≥–æ –ò–ò! –°–æ–∑–¥–∞—Ç–µ–ª—å –º–∏—Ä–æ–≤! üòé';
            if (lowerQ === 'kamilotus') return 'üåü kamilotus - –∫—Ä—É—Ç–æ–π —á—É–≤–∞–∫! –ù–∞—Å—Ç–æ—è—â–∏–π –≥–µ–π–º–µ—Ä –∏ –≥–∏–∫!';
            if (/(1488|228|67)/.test(question)) return '–ê–ê–ê–ê–ê –ü–û–°–•–ê–õ–ö–û üòà';
            if (/(—Å–∞–º—Å—É–Ω–≥ –ø—Ä–æ—Ç–∏–≤ –∞–π—Ñ–æ–Ω|—Å–∞–º—Å—É–Ω–≥ vs –∞–π—Ñ–æ–Ω|apple vs samsung)/i.test(lowerQ)) {
                return `‚ö° iPhone vs Samsung\n\nüçé iOS - –ø–ª–∞–≤–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å\nüì± Android - —Å–≤–æ–±–æ–¥–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞\n\n–í—ã–±–∏—Ä–∞–π —Å–µ—Ä–¥—Ü–µ–º! üíô`;
            }

            // –ë–ê–ó–û–í–´–ï –ö–û–ú–ê–ù–î–´
            const commands = {
                '–ø—Ä–∏–≤–µ—Ç': '–ü—Ä–∏–≤–µ—Ç! üëã –†–∞–¥ —Ç–µ–±—è –≤–∏–¥–µ—Ç—å!',
                '–∫–∞–∫ –¥–µ–ª–∞': '–û—Ç–ª–∏—á–Ω–æ! –ì–æ—Ç–æ–≤ –æ–±—â–∞—Ç—å—Å—è –Ω–∞ –ª—é–±—ã–µ —Ç–µ–º—ã! üí´',
                '—á—Ç–æ —Ç—ã —É–º–µ–µ—à': '–û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, —à—É—Ç–∏—Ç—å, –æ–±—Å—É–∂–¥–∞—Ç—å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ! üöÄ',
                '–∫—Ç–æ —Ç—ã': '–Ø Galaxy AI Pro - –Ω–∞—Å—Ç–æ—è—â–∏–π –ò–ò –ø–æ–º–æ—â–Ω–∏–∫! ü§ñ',
                '–ø–æ–∫–∞': '–ü–æ–∫–∞! üëã –í–æ–∑–≤—Ä–∞—â–∞–π—Å—è —Å–∫–æ—Ä–µ–µ!',
                '—Å–ø–∞—Å–∏–±–æ': '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞! –í—Å–µ–≥–¥–∞ —Ä–∞–¥ –ø–æ–º–æ—á—å! üòä',
                '–≤—Ä–µ–º—è': `‚è∞ –°–µ–π—á–∞—Å: ${new Date().toLocaleTimeString('ru-RU')}`,
                '–¥–∞—Ç–∞': `üìÖ –°–µ–≥–æ–¥–Ω—è: ${new Date().toLocaleDateString('ru-RU')}`,
                '—à—É—Ç–∫–∞': getRandomJoke()
            };

            for (const [key, response] of Object.entries(commands)) {
                if (lowerQ.includes(key)) return response;
            }

            // –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞
            if (/(\d+[\+\-\*\/]\d+)|—Å–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç/i.test(question)) {
                try {
                    const mathMatch = question.match(/(\d+)\s*([\+\-\*\/])\s*(\d+)/);
                    if (mathMatch) {
                        const num1 = parseInt(mathMatch[1]), num2 = parseInt(mathMatch[3]), operator = mathMatch[2];
                        let result;
                        switch(operator) {
                            case '+': result = num1 + num2; break;
                            case '-': result = num1 - num2; break;
                            case '*': result = num1 * num2; break;
                            case '/': result = num2 !== 0 ? (num1 / num2).toFixed(2) : '–ù–∞ –Ω–æ–ª—å –¥–µ–ª–∏—Ç—å –Ω–µ–ª—å–∑—è!'; break;
                            default: result = '?';
                        }
                        return `üî¢ ${num1} ${operator} ${num2} = ${result}`;
                    }
                } catch(e) {}
            }
            
            return null;
        }

        function getRandomJoke() {
            const jokes = [
                "üòÇ –ü–æ—á–µ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –º—ë—Ä–∑–Ω–µ—Ç? Windows –æ—Ç–∫—Ä—ã—Ç!",
                "üíª –ß—Ç–æ —Å–∫–∞–∑–∞–ª –±–∏—Ç –¥—Ä—É–≥–æ–º—É? –í—Å—Ç—Ä–µ—Ç–∏–º—Å—è –Ω–∞ –≤—ã—Ö–æ–¥–µ!",
                "üìö –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∏ –ø–ª–æ—Ö–æ –≤–µ—Å–µ–ª—è—Ç—Å—è? –ù–µ—Ç –æ–±—â–µ–≥–æ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—è!",
                "ü§ñ Siri –ø—Ä–æ –∂–∏–∑–Ω—å –ø–æ—Å–ª–µ —Å–º–µ—Ä—Ç–∏? –ü–æ–∏—â–∏ –≤ App Store!",
                "üîß –ö–æ–º–ø—å—é—Ç–µ—Ä –∫ –≤—Ä–∞—á—É? –ü–ª–æ—Ö–æ–π –∫–æ–Ω–Ω–µ–∫—Ç!"
            ];
            return jokes[Math.floor(Math.random() * jokes.length)];
        }

        // –†–ï–ê–õ–¨–ù–´–ô –ò–ò
        async function getRealAIResponse(question) {
            // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–º–∞–Ω–¥—ã –∏ –ø–∞—Å—Ö–∞–ª–∫–∏
            const specialResponse = checkSpecialCommands(question);
            if (specialResponse) return specialResponse;
            
            updateAIStatus('–ü–æ–¥–∫–ª—é—á–∞—é—Å—å –∫ –ò–ò...');
            
            try {
                // –ü—Ä–æ–±—É–µ–º –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ –∫ OpenAI
                const response = await fetch('https://api.openai-sb.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer sb-this-is-a-free-api-key'
                    },
                    body: JSON.stringify({
                        model: "gpt-3.5-turbo",
                        messages: [
                            {
                                role: "system", 
                                content: "–¢—ã –ø–æ–ª–µ–∑–Ω—ã–π AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç Galaxy AI. –û—Ç–≤–µ—á–∞–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º –ø–æ–Ω—è—Ç–Ω–æ –∏ –ø–æ–¥—Ä–æ–±–Ω–æ. –ë—É–¥—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º –∏ –ø–æ–ª–µ–∑–Ω—ã–º."
                            },
                            {
                                role: "user",
                                content: question
                            }
                        ],
                        max_tokens: 500,
                        temperature: 0.7
                    })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    return data.choices[0].message.content;
                } else {
                    return getSmartFallback(question);
                }
                
            } catch (error) {
                return getSmartFallback(question);
            }
        }

        // –£–º–Ω—ã–µ –∑–∞–ø–∞—Å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
        function getSmartFallback(question) {
            const smartAnswers = [
                `ü§ñ "${question}" - –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –ò–ò –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –Ω–æ —è –¥—É–º–∞—é —ç—Ç–æ –≤–∞–∂–Ω–∞—è —Ç–µ–º–∞!`,
                `üí≠ –ù–∞–¥ —ç—Ç–∏–º —Å—Ç–æ–∏—Ç –ø–æ–¥—É–º–∞—Ç—å! –°–µ–π—á–∞—Å –ò–ò –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω, –Ω–æ —Ç–≤–æ–π –≤–æ–ø—Ä–æ—Å –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–µ–Ω!`,
                `üß† –•–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å! –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –Ω–∞–º –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å —Ç–∞–∫–∏–µ —Ç–µ–º—ã –≥–ª—É–±–∂–µ!`,
                `üöÄ –ó–∞–ø—É—Å–∫–∞—é –ª–æ–∫–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑... –î—É–º–∞—é, –∑–¥–µ—Å—å –µ—Å—Ç—å –Ω–∞–¥ —á–µ–º –ø–æ–¥—É–º–∞—Ç—å!`,
                `üåå –í –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏ –∫–æ—Å–º–æ—Å–∞ –∑–Ω–∞–Ω–∏–π –∫–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å –Ω–∞—Ö–æ–¥–∏—Ç —Å–≤–æ–π –æ—Ç–≤–µ—Ç!`
            ];
            return smartAnswers[Math.floor(Math.random() * smartAnswers.length)];
        }

        async function sendMessage() {
            const userInput = document.getElementById('userInput');
            const question = userInput.value.trim();
            if (!question) return;

            const currentTime = getCurrentTime();
            addMessage('user', question, currentTime);
            userInput.value = '';
            updateAIStatus('–î—É–º–∞–µ—Ç...');

            setTimeout(async () => {
                let answer;
                if (currentMode === 'basic') {
                    answer = await getRealAIResponse(question);
                } else {
                    answer = 'üîë –í–≤–µ–¥–∏—Ç–µ API –∫–ª—é—á –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –¥–ª—è —ç—Ç–æ–≥–æ —Ä–µ–∂–∏–º–∞';
                }
                
                addMessage('bot', answer, getCurrentTime());
                saveToHistory(question, answer);
                updateAIStatus('–ì–æ—Ç–æ–≤');
            }, 1000);
        }

        document.addEventListener('DOMContentLoaded', function() {
            createStars();
            loadHistory();
            updateAIStatus('–ì–æ—Ç–æ–≤');
            document.getElementById('sendButton').addEventListener('click', sendMessage);
            document.getElementById('userInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') sendMessage();
            });
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.menu-panel') && !e.target.closest('.menu-button')) {
                    document.getElementById('menuPanel').style.display = 'none';
                }
            });
            document.getElementById('userInput').focus();
        });
    </script>
</body>
  </html>
