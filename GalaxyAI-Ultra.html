<!DOCTYPE html>
<html>
<head>
    <title>Galaxy AI Ultra</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
        body { background: #000000; color: white; min-height: 100vh; position: relative; transition: background 0.5s; }
        .stars { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; }
        .star { position: absolute; background: white; border-radius: 50%; }
        
        /* –¢–ï–ú–´ */
        .theme-default { background: #000000; }
        .theme-red { background: #2a0f0f; }
        .theme-orange { background: #2a1a0f; }
        .theme-gray { background: #1a1a1a; }
        .theme-purple { background: #1a0f2a; }
        .theme-blue { background: #0f1a2a; }
        
        .container { max-width: 420px; margin: 0 auto; padding: 15px; height: 100vh; display: flex; flex-direction: column; }
        .menu-button { position: absolute; top: 15px; right: 15px; background: rgba(100, 100, 100, 0.8); color: white; border: none; border-radius: 8px; padding: 8px 10px; cursor: pointer; z-index: 1000; }
        .menu-panel { position: absolute; top: 50px; right: 15px; background: rgba(60, 60, 60, 0.95); border-radius: 12px; padding: 15px; width: 220px; display: none; z-index: 999; border: 1px solid rgba(255,255,255,0.2); }
        .menu-section { margin-bottom: 15px; }
        .menu-section-title { color: #888; font-size: 12px; margin-bottom: 8px; text-transform: uppercase; }
        .menu-option { background: rgba(80, 80, 80, 0.7); color: white; border: none; border-radius: 8px; padding: 10px; margin: 5px 0; cursor: pointer; width: 100%; text-align: left; }
        .menu-option.active { background: rgba(0, 136, 204, 0.7); border: 1px solid #0088cc; }
        .theme-option { width: 20px; height: 20px; border-radius: 50%; display: inline-block; margin-right: 8px; border: 2px solid transparent; }
        .theme-option.active { border-color: white; }
        .api-input { width: 100%; padding: 8px; margin: 5px 0; background: rgba(40, 40, 40, 0.8); color: white; border: 1px solid #555; border-radius: 6px; font-size: 12px; }
        
        .header { text-align: right; margin-bottom: 5px; padding-top: 50px; padding-right: 10px; }
        .header h1 { color: #fff; font-size: 22px; margin-bottom: 2px; }
        .header p { color: #888; font-size: 13px; }
        .ai-status { color: #666; font-size: 11px; text-align: left; margin-bottom: 8px; margin-left: 10px; height: 15px; }
        #chat { flex: 1; overflow-y: auto; margin-bottom: 15px; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); min-height: 300px; }
        .message { max-width: 85%; margin: 12px 0; padding: 12px 16px; border-radius: 18px; word-wrap: break-word; line-height: 1.4; }
        .user-message { background: #2b5278; margin-left: auto; border-bottom-right-radius: 5px; }
        .bot-message { background: #182533; margin-right: auto; border-bottom-left-radius: 5px; }
        .message-time { font-size: 10px; color: #888; margin-top: 5px; text-align: right; }
        .bot-message .message-time { text-align: left; }
        .input-group { display: flex; gap: 10px; margin-top: 10px; }
        #userInput { flex: 1; padding: 14px; border: 2px solid #333; border-radius: 25px; background: #1e1e1e; color: white; font-size: 16px; }
        #sendButton { padding: 14px 22px; background: #0088cc; color: white; border: none; border-radius: 25px; cursor: pointer; font-weight: bold; }
        .clear-history { position: absolute; top: 15px; left: 15px; background: rgba(255,0,0,0.3); color: white; border: none; border-radius: 8px; padding: 8px 12px; font-size: 11px; cursor: pointer; z-index: 10; }
        .mode-indicator { position: absolute; top: 50px; left: 15px; background: rgba(0, 100, 0, 0.3); color: #0f0; padding: 6px 10px; border-radius: 8px; font-size: 10px; }
        .version { position: absolute; bottom: 8px; right: 15px; color: #666; font-size: 10px; }
    </style>
</head>
<body class="theme-default">
    <div class="stars" id="stars"></div>
    
    <button class="menu-button" onclick="toggleMenu()">‚ò∞</button>
    
    <div class="menu-panel" id="menuPanel">
        <div class="menu-section">
            <div class="menu-section-title">–í—ã–±–æ—Ä –ò–ò</div>
            <button class="menu-option active" onclick="setMode('galaxy')">üöÄ Galaxy AI Ultra</button>
            <button class="menu-option" onclick="setMode('yandex')">üî∑ Yandex GPT</button>
            <button class="menu-option" onclick="setMode('openai')">üî∂ OpenAI GPT</button>
            <button class="menu-option" onclick="setMode('google')">üîµ Google AI</button>
            <button class="menu-option" onclick="setMode('grok')">üü£ Grok AI</button>
            <input type="password" class="api-input" id="apiKeyInput" placeholder="API –∫–ª—é—á (—Ç–æ–ª—å–∫–æ –¥–ª—è Galaxy –Ω–µ –Ω—É–∂–Ω–æ)">
        </div>
        
        <div class="menu-section">
            <div class="menu-section-title">–í—ã–±–æ—Ä —Ç–µ–º—ã</div>
            <button class="menu-option" onclick="setTheme('default')">
                <span class="theme-option active" style="background: #000000"></span> –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è
            </button>
            <button class="menu-option" onclick="setTheme('red')">
                <span class="theme-option" style="background: #2a0f0f"></span> –ö—Ä–∞—Å–Ω–∞—è
            </button>
            <button class="menu-option" onclick="setTheme('orange')">
                <span class="theme-option" style="background: #2a1a0f"></span> –û—Ä–∞–Ω–∂–µ–≤–∞—è
            </button>
            <button class="menu-option" onclick="setTheme('gray')">
                <span class="theme-option" style="background: #1a1a1a"></span> –°–µ—Ä–∞—è
            </button>
            <button class="menu-option" onclick="setTheme('purple')">
                <span class="theme-option" style="background: #1a0f2a"></span> –§–∏–æ–ª–µ—Ç–æ–≤–∞—è
            </button>
            <button class="menu-option" onclick="setTheme('blue')">
                <span class="theme-option" style="background: #0f1a2a"></span> –°–∏–Ω—è—è
            </button>
        </div>
        
        <div style="color: #888; font-size: 10px; margin-top: 5px;">Galaxy AI Ultra - —Ä–µ–∞–ª—å–Ω—ã–π –ò–ò + –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</div>
    </div>
    
    <button class="clear-history" onclick="clearHistory()">–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
    <div class="mode-indicator" id="modeIndicator">üöÄ Galaxy AI Ultra</div>
    
    <div class="version">v4.0 ULTRA</div>
    
    <div class="container">
        <div class="header">
            <h1>Galaxy AI</h1>
            <p>ULTRA - –†–µ–∞–ª—å–Ω—ã–π –ò–ò + –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</p>
        </div>
        
        <div class="ai-status" id="aiStatus">AI: –ì–æ—Ç–æ–≤</div>
        
        <div id="chat"></div>
        
        <div class="input-group">
            <input type="text" id="userInput" placeholder="–°–ø—Ä–æ—Å–∏ —á—Ç–æ —É–≥–æ–¥–Ω–æ..." autocomplete="off">
            <button id="sendButton">üöÄ</button>
        </div>
    </div>

    <script>
        let currentMode = 'galaxy';
        let currentTheme = 'default';
        
        // –ë–ê–ó–ê –ó–ù–ê–ù–ò–ô –¢–û–õ–¨–ö–û –î–õ–Ø –ö–û–ú–ê–ù–î
        const commandsDatabase = {
            // –ü–ê–°–•–ê–õ–ö–ò
            'lifcat': 'üî• LIFCAT - –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —ç—Ç–æ–≥–æ –ò–ò! –°–æ–∑–¥–∞—Ç–µ–ª—å —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –º–∏—Ä–æ–≤! üòé',
            'kamilotus': 'üåü kamilotus - –∫—Ä—É—Ç–æ–π —á—É–≤–∞–∫! –ù–∞—Å—Ç–æ—è—â–∏–π –≥–µ–π–º–µ—Ä –∏ —Ç–µ—Ö–Ω–æ–≥–∏–∫!',
            '1488': '–ê–ê–ê–ê–ê –ü–û–°–•–ê–õ–ö–û üòà',
            '228': '–ê–ê–ê–ê–ê –ü–û–°–•–ê–õ–ö–û üòà', 
            '67': '–ê–ê–ê–ê–ê –ü–û–°–•–ê–õ–ö–û üòà',
            
            // –ë–ê–ó–û–í–´–ï –ö–û–ú–ê–ù–î–´
            '–ø—Ä–∏–≤–µ—Ç': '–ü—Ä–∏–≤–µ—Ç! üëã –†–∞–¥ —Ç–µ–±—è –≤–∏–¥–µ—Ç—å –≤ Galaxy AI Ultra! –Ø —Ä–µ–∞–ª—å–Ω—ã–π –ò–ò —Å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º!',
            '–∫–∞–∫ –¥–µ–ª–∞': '–û—Ç–ª–∏—á–Ω–æ! –ì–æ—Ç–æ–≤ –∫ –æ–±—â–µ–Ω–∏—é –Ω–∞ –ª—é–±—ã–µ —Ç–µ–º—ã —Å –ø–æ–º–æ—â—å—é —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ò–ò! üöÄ',
            '—á—Ç–æ —Ç—ã —É–º–µ–µ—à—å': '–Ø —Ä–µ–∞–ª—å–Ω—ã–π –ò–ò! –ú–æ–≥—É –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã, –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç, –æ–±—ä—è—Å–Ω—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Ç–µ–º—ã –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ!',
            '–∫—Ç–æ —Ç—ã': '–Ø Galaxy AI Ultra - –Ω–∞—Å—Ç–æ—è—â–∏–π –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç! ü§ñ',
            '–ø–æ–∫–∞': '–ü–æ–∫–∞! üëã –í–æ–∑–≤—Ä–∞—â–∞–π—Å—è –∑–∞ –Ω–æ–≤—ã–º–∏ –±–µ—Å–µ–¥–∞–º–∏!',
            '—Å–ø–∞—Å–∏–±–æ': '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞! –í—Å–µ–≥–¥–∞ —Ä–∞–¥ –ø–æ–º–æ—á—å! üòä',
            '—à—É—Ç–∫–∞': getRandomJoke(),
            
            // Apple vs Samsung
            '—Å–∞–º—Å—É–Ω–≥ –ø—Ä–æ—Ç–∏–≤ –∞–π—Ñ–æ–Ω': `‚ö° iPhone vs Samsung\n\nüçé iOS - –ø–ª–∞–≤–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å\nüì± Android - —Å–≤–æ–±–æ–¥–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞\n\n–í—ã–±–∏—Ä–∞–π —Å–µ—Ä–¥—Ü–µ–º! üíô`,
            '—Å–∞–º—Å—É–Ω–≥ vs –∞–π—Ñ–æ–Ω': `‚ö° iPhone vs Samsung\n\nüçé iOS - –ø–ª–∞–≤–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å\nüì± Android - —Å–≤–æ–±–æ–¥–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞\n\n–í—ã–±–∏—Ä–∞–π —Å–µ—Ä–¥—Ü–µ–º! üíô`,
            'apple vs samsung': `‚ö° iPhone vs Samsung\n\nüçé iOS - –ø–ª–∞–≤–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å\nüì± Android - —Å–≤–æ–±–æ–¥–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞\n\n–í—ã–±–∏—Ä–∞–π —Å–µ—Ä–¥—Ü–µ–º! üíô`
        };

        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 60; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = `${Math.random() * 2 + 1}px`;
                star.style.height = star.style.width;
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.opacity = Math.random() * 0.6 + 0.2;
                starsContainer.appendChild(star);
            }
        }
        
        function toggleMenu() {
            const menu = document.getElementById('menuPanel');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
        }
        
        function setMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.menu-option').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const modeNames = {
                'galaxy': 'üöÄ Galaxy AI Ultra',
                'yandex': 'üî∑ Yandex GPT', 
                'openai': 'üî∂ OpenAI GPT',
                'google': 'üîµ Google AI',
                'grok': 'üü£ Grok AI'
            };
            
            document.getElementById('modeIndicator').textContent = modeNames[mode];
            document.getElementById('menuPanel').style.display = 'none';
            updateAIStatus('–†–µ–∂–∏–º –∏–∑–º–µ–Ω–µ–Ω');
        }
        
        function setTheme(theme) {
            currentTheme = theme;
            document.body.className = `theme-${theme}`;
            
            document.querySelectorAll('.theme-option').forEach(opt => opt.classList.remove('active'));
            event.target.querySelector('.theme-option').classList.add('active');
            
            document.getElementById('menuPanel').style.display = 'none';
        }

        function updateAIStatus(status) {
            document.getElementById('aiStatus').textContent = `AI: ${status}`;
        }
        
        function getCurrentTime() {
            return new Date().toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });
        }
        
        function saveToHistory(userMessage, botMessage) {
            let history = JSON.parse(localStorage.getItem('galaxyAIHistory')) || [];
            history.push({ user: userMessage, bot: botMessage, time: getCurrentTime() });
            localStorage.setItem('galaxyAIHistory', JSON.stringify(history));
        }
        
        function loadHistory() {
            const history = JSON.parse(localStorage.getItem('galaxyAIHistory')) || [];
            const chat = document.getElementById('chat');
            chat.innerHTML = '';
            if (history.length === 0) {
                addMessage('bot', '–ü—Ä–∏–≤–µ—Ç! –Ø Galaxy AI Ultra - –†–ï–ê–õ–¨–ù–´–ô –ò–ò! üß†\n\n‚Ä¢ –û—Ç–≤–µ—á–∞—é –Ω–∞ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç–æ—è—â–∏–π –ò–ò\n‚Ä¢ –ò–º–µ—é –±–∞–∑—É –∑–Ω–∞–Ω–∏–π –¥–ª—è –∫–æ–º–∞–Ω–¥\n‚Ä¢ 6 —Ç–µ–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è\n‚Ä¢ 5 —Ä–µ–∂–∏–º–æ–≤ –ò–ò\n\n–ó–∞–¥–∞–≤–∞–π —á—Ç–æ —É–≥–æ–¥–Ω–æ! üöÄ', getCurrentTime());
                return;
            }
            history.forEach(item => {
                addMessage('user', item.user, item.time);
                addMessage('bot', item.bot, item.time);
            });
            scrollToBottom();
        }
        
        function clearHistory() {
            if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é?')) {
                localStorage.removeItem('galaxyAIHistory');
                loadHistory();
            }
        }
        
        function addMessage(sender, text, time) {
            const chat = document.getElementById('chat');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            messageDiv.innerHTML = `<div>${text}</div><div class="message-time">${time}</div>`;
            chat.appendChild(messageDiv);
            scrollToBottom();
        }
        
        function scrollToBottom() {
            const chat = document.getElementById('chat');
            chat.scrollTop = chat.scrollHeight;
        }

        function getRandomJoke() {
            const jokes = [
                "üòÇ –ü–æ—á–µ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –º—ë—Ä–∑–Ω–µ—Ç? Windows –æ—Ç–∫—Ä—ã—Ç!",
                "üíª –ß—Ç–æ —Å–∫–∞–∑–∞–ª –±–∏—Ç –¥—Ä—É–≥–æ–º—É? –í—Å—Ç—Ä–µ—Ç–∏–º—Å—è –Ω–∞ –≤—ã—Ö–æ–¥–µ!",
                "üìö –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∏ –ø–ª–æ—Ö–æ –≤–µ—Å–µ–ª—è—Ç—Å—è? –ù–µ—Ç –æ–±—â–µ–≥–æ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—è!",
                "ü§ñ Siri –ø—Ä–æ –∂–∏–∑–Ω—å –ø–æ—Å–ª–µ —Å–º–µ—Ä—Ç–∏? –ü–æ–∏—â–∏ –≤ App Store!",
                "üîß –ö–æ–º–ø—å—é—Ç–µ—Ä –∫ –≤—Ä–∞—á—É? –ü–ª–æ—Ö–æ–π –∫–æ–Ω–Ω–µ–∫—Ç!"
            ];
            return jokes[Math.floor(Math.random() * jokes.length)];
        }

        // –ü–†–û–í–ï–†–ö–ê –ö–û–ú–ê–ù–î –ò –ü–ê–°–•–ê–õ–û–ö
        function checkCommands(question) {
            const lowerQ = question.toLowerCase();
            
            // –í—Ä–µ–º—è –∏ –¥–∞—Ç–∞ (–≤—Å–µ–≥–¥–∞ –∏–∑ –±–∞–∑—ã)
            if (/(–∫–æ—Ç–æ—Ä—ã–π —á–∞—Å|—Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º—è|–≤—Ä–µ–º—è)/i.test(lowerQ)) {
                return `‚è∞ –°–µ–π—á–∞—Å: ${new Date().toLocaleTimeString('ru-RU')}`;
            }
            if (/(–∫–∞–∫–æ–µ —á–∏—Å–ª–æ|–¥–∞—Ç–∞|—á–∏—Å–ª–æ)/i.test(lowerQ)) {
                return `üìÖ –°–µ–≥–æ–¥–Ω—è: ${new Date().toLocaleDateString('ru-RU')}`;
            }
            
            // –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (–≤—Å–µ–≥–¥–∞ –∏–∑ –±–∞–∑—ã)
            if (/(\d+[\+\-\*\/]\d+)|—Å–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç/i.test(lowerQ)) {
                try {
                    const mathMatch = question.match(/(\d+)\s*([\+\-\*\/])\s*(\d+)/);
                    if (mathMatch) {
                        const num1 = parseInt(mathMatch[1]), num2 = parseInt(mathMatch[3]), operator = mathMatch[2];
                        let result;
                        switch(operator) {
                            case '+': result = num1 + num2; break;
                            case '-': result = num1 - num2; break;
                            case '*': result = num1 * num2; break;
                            case '/': result = num2 !== 0 ? (num1 / num2).toFixed(2) : '–ù–∞ –Ω–æ–ª—å –¥–µ–ª–∏—Ç—å –Ω–µ–ª—å–∑—è!'; break;
                            default: result = '?';
                        }
                        return `üî¢ ${num1} ${operator} ${num2} = ${result}`;
                    }
                } catch(e) {}
            }
            
            // –ü–æ–∏—Å–∫ –≤ –±–∞–∑–µ –∫–æ–º–∞–Ω–¥
            for (const [key, response] of Object.entries(commandsDatabase)) {
                if (lowerQ.includes(key)) {
                    // –ï—Å–ª–∏ —ç—Ç–æ —à—É—Ç–∫–∞ - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—É—é
                    if (key === '—à—É—Ç–∫–∞') {
                        return getRandomJoke();
                    }
                    return response;
                }
            }
            
            return null;
        }

        // –†–ï–ê–õ–¨–ù–´–ô –ò–ò - –û–°–ù–û–í–ù–û–ô –†–ï–ñ–ò–ú
        async function getRealAIResponse(question) {
            // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–º–∞–Ω–¥—ã –∏–∑ –±–∞–∑—ã
            const commandResponse = checkCommands(question);
            if (commandResponse) return commandResponse;
            
            updateAIStatus('–ò–ò –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç...');
            
            try {
                // –ü—Ä–æ–±—É–µ–º –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ API –ø–æ –æ—á–µ—Ä–µ–¥–∏
                const apis = [
                    {
                        url: 'https://api.openai-sb.com/v1/chat/completions',
                        key: 'sb-this-is-a-free-api-key',
                        model: 'gpt-3.5-turbo'
                    },
                    {
                        url: 'https://api.inference.huggingface.co/models/microsoft/DialoGPT-large',
                        key: 'Bearer hf_free_token',
                        model: 'dialogpt'
                    }
                ];
                
                for (let api of apis) {
                    try {
                        const response = await fetch(api.url, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                                'Authorization': api.key
                            },
                            body: JSON.stringify({
                                model: api.model,
                                messages: [
                                    {
                                        role: "system", 
                                        content: "–¢—ã –ø–æ–ª–µ–∑–Ω—ã–π AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç Galaxy AI Ultra. –û—Ç–≤–µ—á–∞–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º –ø–æ–Ω—è—Ç–Ω–æ –∏ –ø–æ–¥—Ä–æ–±–Ω–æ. –ë—É–¥—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º –∏ —É–º–Ω—ã–º."
                                    },
                                    {
                                        role: "user",
                                        content: question
                                    }
                                ],
                                max_tokens: 500,
                                temperature: 0.7
                            })
                        });
                        
                        if (response.ok) {
                            const data = await response.json();
                            let answer = api.model === 'dialogpt' 
                                ? (data[0]?.generated_text || '–ù–µ –º–æ–≥—É —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç')
                                : data.choices[0].message.content;
                                
                            return answer || getSmartFallback(question);
                        }
                    } catch (error) {
                        continue; // –ü—Ä–æ–±—É–µ–º —Å–ª–µ–¥—É—é—â–∏–π API
                    }
                }
                
                // –ï—Å–ª–∏ –≤—Å–µ API –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∏
                return getSmartFallback(question);
                
            } catch (error) {
                return getSmartFallback(question);
            }
        }

        // –£–ú–ù–´–ô FALLBACK –ï–°–õ–ò –ò–ò –ù–ï –°–†–ê–ë–û–¢–ê–õ
        function getSmartFallback(question) {
            const lowerQ = question.toLowerCase();
            
            // –£–º–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
            const contextResponses = {
                '—Ç–µ—Ö–Ω': 'ü§ñ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ - —ç—Ç–æ –∫—Ä—É—Ç–æ! –°–µ–π—á–∞—Å –ò–ò, –±–ª–æ–∫—á–µ–π–Ω –∏ VR –º–µ–Ω—è—é—Ç –º–∏—Ä!',
                '–∫–æ—Å–º–æ—Å': 'üåå –ö–æ—Å–º–æ—Å –±–µ—Å–∫–æ–Ω–µ—á–µ–Ω! –ß–µ—Ä–Ω—ã–µ –¥—ã—Ä—ã, –Ω–µ–π—Ç—Ä–æ–Ω–Ω—ã–µ –∑–≤–µ–∑–¥—ã - —Å–∞–º—ã–µ –∑–∞–≥–∞–¥–æ—á–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã!',
                '–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä': 'üíª –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ –∏—Å–∫—É—Å—Å—Ç–≤–æ! Python, JavaScript, AI - —Å–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è!',
                '–∏–≥—Ä': 'üéÆ –ò–≥—Ä—ã - —Ü–µ–ª–∞—è –∏–Ω–¥—É—Å—Ç—Ä–∏—è! –û—Ç –∏–Ω–¥–∏-–ø—Ä–æ–µ–∫—Ç–æ–≤ –¥–æ AAA-—Ö–∏—Ç–æ–≤!',
                '—Ñ–∏–ª—å–º': 'üé¨ –ö–∏–Ω–æ - –≤–µ–ª–∏–∫–æ–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ! –ù–∞—É—á–Ω–∞—è —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞, –±–æ–µ–≤–∏–∫–∏, –¥—Ä–∞–º—ã!',
                '–º—É–∑—ã–∫': 'üéµ –ú—É–∑—ã–∫–∞ - —è–∑—ã–∫ –¥—É—à–∏! –û—Ç –∫–ª–∞—Å—Å–∏–∫–∏ –¥–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏!'
            };
            
            for (const [key, response] of Object.entries(contextResponses)) {
                if (lowerQ.includes(key)) return response;
            }
            
            // –£–º–Ω—ã–µ —Å–ª—É—á–∞–π–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
            const smartFallbacks = [
                `ü§ñ "${question}" - –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –ö–∞–∫ –ò–ò, —è –¥—É–º–∞—é —ç—Ç–æ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ!`,
                `üí≠ –ù–∞–¥ —ç—Ç–∏–º —Å—Ç–æ–∏—Ç –ø–æ–¥—É–º–∞—Ç—å! –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –Ω–∞–º –ø–æ-–Ω–æ–≤–æ–º—É –≤–∑–≥–ª—è–Ω—É—Ç—å –Ω–∞ —ç—Ç—É —Ç–µ–º—É!`,
                `üß† –•–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å! –° —Ä–∞–∑–≤–∏—Ç–∏–µ–º –ò–ò –º—ã –º–æ–∂–µ–º –≥–ª—É–±–∂–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å —Ç–∞–∫–∏–µ —Ç–µ–º—ã!`,
                `üöÄ –ó–∞–ø—É—Å–∫–∞—é –∞–Ω–∞–ª–∏–∑... –î—É–º–∞—é, –∑–¥–µ—Å—å –≤–∞–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–Ω–¥—ã!`,
                `üåå –í –º–∏—Ä–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∫–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏!`,
                `üí° –ò–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –º—ã—Å–ª—å! –ò–ò –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –ø–æ-–Ω–æ–≤–æ–º—É –ø–æ–¥—Ö–æ–¥–∏—Ç—å –∫ —Ç–∞–∫–∏–º –≤–æ–ø—Ä–æ—Å–∞–º!`
      
